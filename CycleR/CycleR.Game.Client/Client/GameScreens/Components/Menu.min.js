var Menu=function(){function n(n,t){var i=this;this.Selected=ko.observable(0),this.Title=n,this.Options=t,this._cursorUp=function(){i.Selected()<=0?i.Selected(i.Options.length-1):i.Selected(i.Selected()-1)},this._cursorDown=function(){i.Selected((i.Selected()+1)%i.Options.length)},this._cursorSelect=function(){i.Options[i.Selected()].Action()}}return n._template="<div class='menuComponentHolder'><h1 data-bind='text: Title'><\/h1><hr /><div class='menuComponent' data-bind='foreach: Options'><p><span class='menuItemHolder' data-bind='click: $root.Select.bind($root)'><span class='itemSelected' data-bind='visible: $root.Selected() == $index()'><\/span><span class='itemName' data-bind='text: Name'><\/span><\/span><\/p><\/div><\/div>",n._holder=$("#GameScreen"),n._cursorUpKeys=["Up","w"],n._cursorDownKeys=["Down","s"],n._cursorSelectKeys=["Enter"],n.prototype.applyKeybindings=function(){var t=this;$.each(n._cursorUpKeys,function(n,i){shortcut.add(i,t._cursorUp)}),$.each(n._cursorDownKeys,function(n,i){shortcut.add(i,t._cursorDown)}),$.each(n._cursorSelectKeys,function(n,i){shortcut.add(i,t._cursorSelect)})},n.prototype.unapplyKeybindings=function(){$.each(n._cursorUpKeys,function(n,t){shortcut.remove(t)}),$.each(n._cursorDownKeys,function(n,t){shortcut.remove(t)}),$.each(n._cursorSelectKeys,function(n,t){shortcut.remove(t)})},n.prototype.Select=function(n){this.Selected($(this.Options).index(n)),this._cursorSelect()},n.prototype.Start=function(){this.applyKeybindings(),this.Element=$(n._template),n._holder.append(this.Element),ko.applyBindings(this,this.Element[0])},n.prototype.Stop=function(){this.unapplyKeybindings(),this.Element.remove(),ko.cleanNode(this.Element[0])},n}()