var Menu=function(){function n(t,i){var r=this;this.Selected=ko.observable(0),this.Title=t,this.Options=i,this.Element=$(n._template),this._cursorUp=function(){r.Selected()<=0?r.Selected(r.Options.length-1):r.Selected(r.Selected()-1)},this._cursorDown=function(){r.Selected((r.Selected()+1)%r.Options.length)},this._cursorSelect=function(){r.Options[r.Selected()].Action()}}return n._template="<div class='menuComponentHolder'><h1 data-bind='text: Title'><\/h1><hr /><div class='menuComponent' data-bind='foreach: Options'><p><span class='menuItemHolder'><span class='itemSelected' data-bind='visible: $root.Selected() == $index()'><\/span><span class='itemName' data-bind='text: Name, click: $root.Select.bind($root)'><\/span><\/span><\/p><\/div><\/div>",n._holder=$("#GameScreen"),n._cursorUpKeys=["Up","w"],n._cursorDownKeys=["Down","s"],n._cursorSelectKeys=["Enter"],n.prototype.applyKeybindings=function(){var t=this;$.each(n._cursorUpKeys,function(n,i){shortcut.add(i,t._cursorUp)}),$.each(n._cursorDownKeys,function(n,i){shortcut.add(i,t._cursorDown)}),$.each(n._cursorSelectKeys,function(n,i){shortcut.add(i,t._cursorSelect)})},n.prototype.unapplyKeybindings=function(){$.each(n._cursorUpKeys,function(n,t){shortcut.remove(t)}),$.each(n._cursorUpKeys,function(n,t){shortcut.remove(t)}),$.each(n._cursorSelectKeys,function(n,t){shortcut.remove(t)})},n.prototype.Select=function(n){this.Selected($(this.Options).index(n)),this._cursorSelect()},n.prototype.Start=function(){this.applyKeybindings(),n._holder.append(this.Element),ko.applyBindings(this,this.Element[0])},n.prototype.Stop=function(){this.unapplyKeybindings(),ko.cleanNode(this.Element[0])},n}()