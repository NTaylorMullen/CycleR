var __extends=this.__extends||function(n,t){function i(){this.constructor=n}i.prototype=t.prototype,n.prototype=new i},Cycle=function(n){function t(t,i,r,u,f){n.call(this,r),this._trailColor=f,this.Context=this.createContext(u),this.Context.position=t,this.MovementController=new CycleMovementController(this.Context,i),this.TrailManager=new TrailManager(f,this)}return __extends(t,n),t.BASE_CYCLE_SCALE=new THREE.Vector3(2.68648,2.60262,1.750692),t.SCALE=new THREE.Vector3(37.22342991572615,40,35),t.SIZE=new THREE.Vector2(200,100),t.Events={OnCollision:"OnCollision"},t.prototype.createContext=function(){var n=new THREE.Mesh(new THREE.CubeGeometry(1,1,1),new THREE.MeshBasicMaterial({color:16777215}));return n.scale=new THREE.Vector3(100,100,100),n},t.prototype.HandleCollision=function(i){this.Context.position=i.CollidedAt,this.MovementController.Velocity=new THREE.Vector3,n.prototype.HandleCollision.call(this,i),$(this).triggerHandler(t.Events.OnCollision)},t.prototype.Die=function(n){this.TrailManager.CurrentTrail.ExtendTo(n)},t.prototype.Move=function(n){this.MovementController.Move(n),this.MovementController.Velocity.isZero()||(this.Colliding=!1),this.TrailManager.StartTrail(this.MovementController.Velocity,this.Context.position)},t.prototype.Update=function(n){this.MovementController.Update(n),this.TrailManager.Update(n)},t}(Collidable)