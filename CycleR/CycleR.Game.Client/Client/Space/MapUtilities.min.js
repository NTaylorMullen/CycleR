var MapUtilities=function(){function n(n,t){this._mapSize=n,this._floorTileSize=t,this._halfMapSize=n.Half(),this._dimensions=new Size(this._mapSize.Width/this._floorTileSize.Width,this._mapSize.Height/this._floorTileSize.Height)}return n.prototype.ToMapLocationFromController=function(n){var i=n.Velocity.singleValue(),t=!0;return i<0&&(t=!1),this.ToMapLocation(n.Context.position,t)},n.prototype.ToMapLocation=function(n,t){return t?new MapLocation(Math.floor((n.z+this._halfMapSize.Height)/this._floorTileSize.Height),Math.floor((n.x+this._halfMapSize.Width)/this._floorTileSize.Width)):new MapLocation(Math.ceil((n.z+this._halfMapSize.Height)/this._floorTileSize.Height),Math.ceil((n.x+this._halfMapSize.Width)/this._floorTileSize.Width))},n.prototype.ToPosition=function(n,t){return new THREE.Vector3(n.Column*this._floorTileSize.Width-this._halfMapSize.Width,t,n.Row*this._floorTileSize.Height-this._halfMapSize.Height)},n.prototype.PositionOutOfBounds=function(n){return this.XOutOfBounds(n.x)||this.ZOutOfBounds(n.z)},n.prototype.LocationOutOfBounds=function(n){return this.RowOutOfBounds(n.Row)||this.ColumnOutOfBounds(n.Column)},n.prototype.RowOutOfBounds=function(n){return n<0||n>=this._dimensions.Height},n.prototype.ColumnOutOfBounds=function(n){return n<0||n>=this._dimensions.Width},n.prototype.XOutOfBounds=function(n){return n<-this._halfMapSize.Width||n>this._halfMapSize.Width},n.prototype.ZOutOfBounds=function(n){return n<-this._halfMapSize.Height||n>this._halfMapSize.Height},n}()