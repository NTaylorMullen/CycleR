var __extends=this.__extends||function(n,t){function i(){this.constructor=n}i.prototype=t.prototype,n.prototype=new i},Map=function(n){function t(){var u,i,r;for(n.call(this),this._mapArea=[],this._contents={},u=t.MAP_SIZE.Width/t.FLOOR_TILE_SIZE.Width,i=0;i<t.MAP_SIZE.Width;i+=u)for(this._mapArea[i]=[],r=0;r<t.MAP_SIZE.Height;r+=u)this._mapArea[i][r]=-1}return __extends(t,n),t.FLOOR_TILE_SIZE=new Size(100),t.MAP_SIZE=new Size(1e4),t.WALL_SIZE=new Size(t.MAP_SIZE.Width,2e3),t.prototype.AddAll=function(n){for(var t=n.length-1;t>=0;t--)this.Add(n[t])},t.prototype.Add=function(n){this._contents[n.ID]=n},t.prototype.Remove=function(n){delete this._contents[n]},t.prototype.Update=function(){for(var n in this._contents)this.AddAllToScene(this._contents[n].TrailManager.PullPendingContexts())},t}(SceneObjectCreator)